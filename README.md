### MySql
建立的索引如果没有命中，会大大降低查询效率，比如一个简单查询sql语句，filtered数据列显示如果索引命中
为100，未命中则是33.33。
经过测试发现，数据库是char类型的索引，那么传入的数据一定做好处理转为string类型，否则大概率造成索引未命中。
而数据库是数字类型索引，那就不必担心。
mysql中update，delete，insert语句默认是上了互斥锁，不必担心数据不一致问题
### 数据库json数据类型
1. 对数据库的操作增删改不是重点，如何高效的查询才是我们重点关注的,所以引入json这个数据类型，
用于简化数据库建表和不必要的联表查询，直接将需要的数据以键值对的形式插入表中，查询时只需对单表进行查询，
如果命中索引，那速度还会大大提高。
2. MySQL不支持直接为BLOB或TEXT类型的字段创建函数索引，所以得使用cast函数将json字段转为char类型或其他mysql支持创建索引的数据类型 
### redis缓存
1. redis缓存和数据库数据一致性问题（缓存更新策略）：redis自带的内存淘汰机制，超时剔除，主动更新
2. redis缓存重建可能会出现线程安全问题，所以模拟使用互斥锁
### 基础功能
   所有角色用户登录操作
   学生默认账号密码均为学号
   为保证安全，登录时检测到账号密码相同会要求修改密码，可忽略
   加密用户角色，基于解密的角色完成用户独有操作
   密码加密保存

### 选导师
#### 学生
未到开始时间无法选择
开始后未选择，选择数量未满的指导教师
开始后已选择，选择后不可更改；禁止已选学生改选

#### 教师
查看已选自己学生；查看所有未选/已选学生情况；导出信息excel表格

#### 管理员
独立角色，无教师操作权限
设置开始时间；导入学生表格，导入教师表格(姓名/账号/数量/分组等)；重置密码等
### 实现
未开始加载教师信息(带学生数量)但不可选择提交；
选择导师时，只能根据返回的数量未满的指导教师列表进行选择，减少逻辑判断
后端保证并发操作的数据完整性，处理，学生不存在/教师不存在/教师数量已满(独占)/重复选择/开始前提交等逻辑判断；

简化以上冗余逻辑。学生不存在，token中解密出因此必然存在无需再次判断； 
并发下教师数量已满，返回新的教师信息列表，减少前端网络请求；
提交成功后返回指导教师信息，不再加载选择列表减少数据请求；
### 分组/排序
选导师后将学生分组。原则，学生与指导教师不在同组。
需提前确定教师分组(导入教师时包含组，无指导学生教师也添加，带学生数为0)。前端完成，直接乱序生成组内顺序。
### 实现
学生在选择导师时，就会生成一个随机组号，自动分组到非学生所选择的指导教师所在的组，进行后续评分